# Распределение адресного пространства и идентификаторов объектов конфигурации

## Правила распределения
### IPv4 адресация
|Октет| Значения | Назначение |
|--|--|--|
|1| 1_ - 9_ | Номер ЦОД-а|
|1| _1 - _9 | Номер POD-а|
| 10.*.*.* | Клиентские сервисы |
|2| 0 | спайны |
|2| 1 | лифы и бордер лифы |
|2| 2 | p2p адресация|
|2| 150 | межсегментные выделенные маршрутизаторы |
|2| 250 | выделенные маршрутизаторы для выхода во внешние сети |
|3| 1-254 | порядковый номер узла |
|4| 0-254 | порядковый номер объекта |

### BGP

#### ASN
##### Spine, Leaf, Border Leaf
ASN 4-byte format: 

    [ DC № ][ POD № ][ node type: 1 - spine, 2 - leaf/border ] 0..0 [node/mclag pair №]

##### External routers
Межсегментные маршрутизаторы: 2-byte ASN 65XXX
GW: 2-byte ASN 64XXX

#### Router ID
-  адрес Lo0

#### Route Distinguisher (RD)
- GRT: router ID
- Vrf: "router ID ':' VlanID" (пример: 12.1.1.0:2000 )

#### Route Target (RT)
ASN 4-byte format: 

    [DC№] 020..0 ':' VlanID (пример: 1020000000:3000)


### VXLAN
- L2 Vlan: трёхзначный номер 

        [порядковый номер сервиса] ..0.. [порядковый номер сегмента] 

        Пример: 101, 102, 201

- L3 Vlan: четырехзначный номер

        [порядковый номер сервиса] ..0
        Пример: 1000, 2000, 3000

- L3VNI: 5-значный номер

        L3 vlan + 0
        Пример: 10000, 20000, 30000

- L2VNI: 5-значный номер

        [порядковый номер сервиса]..1..[порядковый номер сегмента] 
        Пример: 10101, 20101, 30101

## Распределение идентификаторов и адресов

1. [Идентификаторы маршрутизаторов](ids.md)
2. [Адресация L3 интерфейсов](l3_iface_addr.md)
3. [ MAC адреса ](mac_addr.md)
4. [BGP маршрутизаторы ](bgp_routers_ids.md)
5. [VXLAN идентификаторы](vxlan_addr.md)
6. [Идентификаторы MCLAG](mclag_ids.md)
7. [Идентификаторы клиентских сервисов](clients.md)

