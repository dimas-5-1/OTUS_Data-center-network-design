## Разработка решения для построения отказоустойчивой и масштабируемой сетевой инфраструктуры

Учитывая [требования](../../README.md#цели) к сетевой инфраструктуре, наиболее оптимальным является построение сети на базе технологии VXLAN

1. CLOS топология дает возможности простого масштабирования ёмкости и производительности сети
2. Технология VXLAN Anycast Gateway позволяет обеспечивать миграцию подключений клиентов внутри сетевой инфраструктуры, с сохранением настроек сетевого стека
3. Имеется поддержка организации как L2 так и L3 сервисов. Ёмкость идентификатора VNI снимает ограничение по кол-ву клиентских сервисов
4. Технология MCLAG обеспечивает отказоустойчивое подключение клиентов
5. Технология DCI (Data Center Interconnect) обеспечивает бесшовное географическое распределение POD-ов
5. Не требуется настройки IP/MPLS стека и использования оборудования, обеспечивающего его поддержку

### Оборудование
Данный проект построен на оборудовании Dell, на базе NOS Dell Enterprise Sonic

    Software Version  : '3.4.0-Enterprise_Base'
    Product           : Enterprise SONiC Distribution by Dell Technologies
    Distribution      : '9.13'
    Kernel            : '4.9.0-11-2-amd64'
    Config DB Version : version_3_3_1
    Build Commit      : 'e2f258af7'
    Build Date        : Wed Jul 28 23:38:19 UTC 2021
    Built By          : sonicbld@sonic-lvn-csg-004
    Platform          : x86_64-kvm_x86_64-r0
    HwSKU             : DellEMC-S5248f-P-25G-DPB
    FRR               : FRRouting 7.2-sonic 


### Underlay, Overlay протокол
- Для унификации управления, на обоих уровнях используется протокол BGP
- На р2р уровне используется IPv4 адресация /31, но также возможно и использование IPv6 link-local адресации

### Резервирование стыка
В NOS данной версии поддерживается только вариант с MCLAG

### Межсегментная, внешняя маршрутизация
- Межсегментная маршрутизация выполняется на выделенном маршрутизаторе, подключенном к паре border leaf
  - В практической части, для целей демонстрации, функционал реализован на одном маршрутизаторе, но в производственной версии это может быть пара устройств
  - Для последующего масштабирования по пропускной способности, линки маршрутизатора border leaf реализованы в виде LAG
- Маршрутизация с внешними сетями также выполнена на выделенном маршрутизаторе
- Реализация системы FW в проекте не приводится, но подразумевается

### Клиентские сервисы
| Сервис | L2 сервис | L3 VRF | L3 доступ (маршрутизация) | L3 доступ во внешние сети | POD |
| ----------- | ----------- | ----------- |----------- | ----------- | ----------- |
| Управление предприятием | CRM | ADM | CAD | Да | Центральный |
| Бухгалтерия | 1C | ADM | CAD | Да | Центральный |
| Проектный отдел | CAD | CAD | ADM, ASU | Нет | Центральный, производственные |
| Сеть производства | ASU | ASU | CAD | Нет |  Центральный, производственные |

### DCI
Используется технология "multi-pod". Связь устанавливается через линки spine -- spine